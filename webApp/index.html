<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Pages vertes</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="./static/dependencies/leaflet.markercluster/MarkerCluster.css">
    <link rel="stylesheet" type="text/css" href="./static/dependencies/leaflet.markercluster/MarkerCluster.Default.css">
    <link rel="stylesheet" type="text/css" href="./static/dependencies/leaflet.easybutton/easy-button.css">

    <link rel="stylesheet" type="text/css" href="./static/dependencies/semantic-ui/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="./static/dependencies/semantic-ui/components/dropdown.min.css">
    <link rel="stylesheet" type="text/css" href="./static/dependencies/semantic-ui/components/button.min.css">

    <link rel="stylesheet" type="text/css" href="./static/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.0.1/dist/leaflet.js"></script>
    <script type="text/javascript" src="./static/dependencies/leaflet.markercluster/leaflet.markercluster.js"></script>
    <script type="text/javascript" src="./static/dependencies/leaflet.easybutton/easy-button.js"></script>
    <script type="text/javascript" src="./static/dependencies/mustache/mustache.min.js"></script>
    <script type="text/javascript" src="./static/dependencies/semantic-ui/semantic.min.js"></script>
    <script type="text/javascript" src="./static/dependencies/semantic-ui/components/dropdown.min.js"></script>
    <script type="text/javascript" src="./static/generateDataStructure.js"></script>
    <script type="text/javascript" src="./static/map.js"></script>
    <script type="text/javascript" src="./static/index.js"></script>

</head>

<body>
    <div id="mainMenu" class="ui borderless fixed menu">
        <div class="ui container">
            <div id="logo" class="item">
                <img class="logo" src="static/images/leaf.svg">
                <h1>Les pages vertes</h1>
            </div>
            <div class="right borderless menu">
                <div class="item">
                    <div class="ui action input">
                        <input id="idTree" placeholder="Identifiant arbre" type="text">
                        <button class="ui primary button" onclick="searchID()">Localiser</button>
                    </div>
                </div>
                <div class="item">
                    <div id="binominalDropdown" class="ui fluid search selection dropdown">
                        <input name="binominalName" type="hidden">
                        <i class="dropdown icon"></i>
                        <div class="default text">Nom commun espèce</div>
                        <div id="binominalName-menu" class="menu"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="mainContent">
        <div id="searchOverlay" class="ui horizontal segments">
            <div id="mapSegment" class="ui segment">
                <div id="mapId"></div>
            </div>
            <div id="treeListSegment" class="ui segment">
                <div id="treeList" class="ui relaxed divided list"></div>
            </div>
        </div>
            <div id="treeDetails"></div>
    </div>
</body>

<footer>
    <div>Icons made by <a href="http://www.freepik.com" title="Freepik">Freepik</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
</footer>

<template id="mapMarkerTemplate">
    <h4> {{ id }} </h4>
    <div class="genderName">{{ nomBinominal.genre }}</div>
    <div class="speciesName">{{ nomBinominal.espece }}</div>
    <div>{{ nomBinominal.nom_vernaculairev }}</div>
</template>

<template id="treeDetailsTemplate">
    <dl>
        <dt>Identifiant</dt><dd><h4> {{ id }} </h4></dd>
        <dt>Genre</dt><dd class="genderName">{{ nomBinominal.genre }}</dd>
        <dt>Espèce</dt><dd class="speciesName">{{ nomBinominal.espece }}</dd>
        <dt>Feuillage</dt><dd>{{ nomBinominal.feuillage.typeArbre }}</dd>
        <dt>Hauteur</dt><dd>{{ hauteur }}</dd>
        <dt>Diamètre tronc</dt><dd>{{ diametreTronc }}</dd>
        <dt>Diamètre courronne</dt><dd>{{ diametreCourrone }}</dd>
        <dt>Latitude</dt><dd>{{ latitude }}</dd>
        <dt>Longitude</dt><dd>{{ longitude }}</dd>
    </dl>
</template>

<template id="treeListTemplate">
    {{#trees}}
    <div id="{{ id }}" class="item resultListItem">
        <div class="unselectedItem">
            <img class="floated left image" src="static/images/leaf-list.png">
            <div class="content">
                <dl>
                    <dt>Identifiant</dt><dd><h4> {{ id }} </h4></dd>
                    <dt>Genre</dt><dd class="genderName">{{ nomBinominal.genre }}</dd>
                    <dt>Espèce</dt><dd class="speciesName">{{ nomBinominal.espece }}</dd>
                    <dt>Nom français</dt><dd>{{ nomBinominal.nom_vernaculaire }}</dd>
                </dl>
            </div>
        </div>
    </div>
    {{/trees}}
</template>

<template id="binominalNameTemplate">
    {{#name}}
        <div class="item" data-value="{{ . }}"> {{.}} </div>
    {{/name}}
</template>

</html>
